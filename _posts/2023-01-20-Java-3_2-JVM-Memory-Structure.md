---
layout: post
title: " JVM의 메모리 구조 "
categories: Java
author: fancy96
---
* content
{:toc}

> 이 글의 정보들은 책에서 공부하고 정리한 내용을 토대로 작성하였습니다.

* 응용프로그램이 실행되면 JVM은 시스템으로부터 프로그램을 수행하는데 필요한 메모리를 할당받고 JVM은 이 메모리를 용도에 따라 여러 영역으로 나누어 관리한다.

* 그 중 3가지 주요 영역(method area, call stack, heap)에 대해서 알아보자.

![](/assets/img/java/jvm-memory-structure.png){: width="500"}

[1] 메소드 영역(method area)

* 프로그램 실행 중 어떤 클래스가 사용되면, JVM은 해당 클래스의 클래스파일(*.class)을 읽어서 분석하여 **클래스에 대한 정보(클래스 데이터)를 이곳에 저장한다.**

* 이 때, 그 클래스의 클래스 변수(class variable)도 이 영역에 함께 생성된다.

[2] 힙(heap)

* **인스턴스가 생성되는 공간.** 프로그램 실행 중 생성되는 인스턴스는 모두 이곳에 생성된다.

* 즉, 인스턴스 변수(instance variable)들이 생성되는 공간이다.

[3] 호출스택(call stack 또는 execution stack)

* 호출스택은 **메소드의 작업에 필요한 메모리 공간을 제공한다.** 메소드가 호출되면, 호출스택에 호출된 메소드를 위한 메모리가 할당되며, 이 메모리는 메소드가 작업을 수행하는 동안 지역변수(매개변수 포함)들과 연산의 중간결과 등을 저장하는데 사용된다.

* 그리고 메소드가 작업을 마치면 할당되었던 메모리공간은 반환되어 비워진다.

* **호출스택의 특징**을 정리해보면 다음과 같다.

    * 메소드가 호출되면 수행에 필요한 만큼의 메모리를 스택에 할당받는다.

    * 메소드가 수행을 마치고나면 사용했던 메모리를 반환하고 스택에서 제거된다.

    * 호출스택의 제일 위에 있는 메소드가 현재 실행 중인 메소드이다.
    
    * 아래에 있는 메소드가 바로 위의ㅣ 메소드를 호출한 메소드이다.


## Reference

* [Java의 정석](http://www.yes24.com/Product/Goods/24259565)